<div class="product-card">
  
  <div class="image-section">
    
    <div class="badges-container">
      <span *ngIf="producto.stock === 0" class="badge badge-out">Agotado</span>
      <span *ngIf="producto.stock > 0 && producto.stock < 10" class="badge badge-low">¡Últimos!</span>
    </div>

<button 
  class="btn-favorito"
  [class.es-favorito]="esFavorito()"
  (click)="toggleFavorito(); $event.stopPropagation()"
  title="Añadir a favoritos">
  
  <span class="cyber-icon">⚡</span> 
  
</button>

    <img [src]="producto.urlImagen || 'assets/placeholder.png'" 
         [alt]="producto.nombre" 
         class="product-img">
    
    <div class="hologram-overlay"></div>
  </div>

  <div class="info-section">
    <div class="info-header">
      <h3 class="product-title" title="{{ producto.nombre }}">{{ producto.nombre }}</h3>
      <p class="product-price">{{ producto.precio | currency:'$' }}</p>
    </div>

    <p class="product-description">
      {{ producto.descripcion || 'Sin descripción disponible.' }}
    </p>

    <p class="stock-text">
      Stock: 
      <span [class.text-ok]="producto.stock > 0" [class.text-error]="producto.stock === 0">
        {{ producto.stock > 0 ? producto.stock + ' u.' : 'Sin stock' }}
      </span>
    </p>

    <button class="btn-add" 
            [disabled]="producto.stock === 0"
            (click)="agregarAlCarrito()">
      {{ producto.stock === 0 ? 'SIN STOCK' : 'AÑADIR AL CARRITO' }}
    </button>
    
    <p *ngIf="errorAgregar" class="error-msg">{{ errorAgregar }}</p>
  </div>

</div>