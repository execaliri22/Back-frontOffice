<div class="container historial-layout">
  <h2>ðŸ“¦ Registro de Transacciones</h2>

  <div *ngIf="loading" class="loading-text">Accediendo a la base de datos...</div>

  <div *ngIf="!loading && pedidos.length === 0" class="empty-state">
    <div class="empty-icon">ðŸš«</div>
    <h3>Sin registros encontrados</h3>
    <p>Tu historial de adquisiciones estÃ¡ vacÃ­o.</p>
    <a routerLink="/tienda" class="btn btn-primary">Iniciar Nueva Compra</a>
  </div>

  <div class="table-responsive" *ngIf="pedidos.length > 0">
    <table class="cyber-table">
      <thead>
        <tr>
          <th>ID TransacciÃ³n</th>
          <th>Fecha</th>
          <th>Monto Total</th>
          <th>Estado</th>
          <th>Items</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let p of pedidos">
          <td class="id-col">#{{ p.idPedido }}</td>
          <td>{{ p.fecha | date:'short' }}</td>
          <td class="monto">{{ p.total | currency:'USD' }}</td>
          <td>
            <span class="cyber-badge" [ngClass]="p.estado">{{ p.estado }}</span>
          </td>
          <td>
            <small class="item-count">{{ p.items?.length || 0 }} productos</small>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>